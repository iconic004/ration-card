<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Ration Card Booklet</title>

<style>
body{
  font-family: Mangal, "Noto Serif Devanagari", Arial, sans-serif;
  margin:0;
}

/* ===== PRINT SETTINGS ===== */
@page{
  size:A4;
  margin:10mm;
}

@media print{
  .form, button{display:none;}
}

/* ===== BOOKLET LAYOUT ===== */
.page{
  width:210mm;
  height:297mm;
  page-break-after:always;
}

.spread{
  display:flex;
  width:100%;
  height:100%;
}

.half{
  width:50%;
  padding:12mm;
  box-sizing:border-box;
  border:2px solid #000;
}

.center{text-align:center;}
.right{text-align:right;}
.small{font-size:12px;}

table{
  width:100%;
  border-collapse:collapse;
  font-size:13px;
}
th,td{
  border:1px solid #000;
  padding:4px;
  text-align:center;
}

/* fake barcode */
.barcode{
  font-family: monospace;
  font-size:20px;
  letter-spacing:3px;
  margin-top:15px;
}
</style>
</head>

<body>

<!-- ================= FORM ================= -->
<div class="form" style="padding:20px;">
<h3>Ration Card Form</h3>
Ration Card No <input id="rc"><br><br>
Card Holder Name <input id="holder"><br><br>
Father / Husband Name <input id="fh"><br><br>
District <input id="dist"><br><br>
Address <input id="addr"><br><br>
Dealer Name <input id="dealer"><br><br>

<h4>Family Member</h4>
Name <input id="mname">
Gender <input id="mgender" placeholder="पु० / म०">
Age <input id="mage">
Relation <input id="mrel">
<button onclick="add()">Add</button>
<br><br>
<button onclick="generate()">Generate</button>
</div>

<!-- ================= OUTER COVER (PAGE 4 + PAGE 1) ================= -->
<div class="page">
  <div class="spread">

    <!-- BACK COVER -->
    <div class="half small">
      <h4>कार्डधारियों के लिए आवश्यक सूचनाएँ</h4>
      <p>1. यह राशन कार्ड निःशुल्क है।</p>
      <p>2. कार्ड सुरक्षित रखना कार्डधारी की जिम्मेदारी है।</p>
      <p>3. राशन प्राप्त करते समय मात्रा अंकित कराएँ।</p>
      <p>4. हेल्पलाइन: 1967, 1800 212 5512</p>
    </div>

    <!-- FRONT COVER -->
    <div class="half center">
      <img src="logo.png" style="width:120px;"><br>
      <h2>राशन कार्ड</h2>
      <p>खाद्य, सार्वजनिक वितरण एवं उपभोक्ता मामले विभाग</p>
      <p><b>Ration Card No:</b> <span id="orc"></span></p>
      <p><b>कार्डधारी:</b> <span id="oholder"></span></p>
      <div class="barcode">|| ||| || ||| | ||| || ||| | |||</div>
    </div>

  </div>
</div>

<!-- ================= INNER PAGES (PAGE 2 + PAGE 3) ================= -->
<div class="page">
  <div class="spread">

    <!-- PAGE 2 -->
    <div class="half">
      <h3 class="center">परिवारिक सूची</h3>
      <table>
        <tr>
          <th>क्र०</th><th>नाम</th><th>लिंग</th><th>उम्र</th><th>संबंध</th>
        </tr>
        <tbody id="tbl"></tbody>
      </table>
      <p><b>कुल सदस्य:</b> <span id="total"></span></p>
    </div>

    <!-- PAGE 3 -->
    <div class="half">
      <p><b>पिता / पति:</b> <span id="ofh"></span></p>
      <p><b>पता:</b> <span id="oaddr"></span></p>
      <p><b>जिला:</b> <span id="odist"></span></p>
      <p><b>वितरक:</b> <span id="odealer"></span></p>
      <br><br>
      <p class="right">प्राधिकृत अधिकारी हस्ताक्षर</p>
    </div>

  </div>
</div>

<button onclick="window.print()">Print / Save PDF</button>

<script>
let members=[];
function add(){
  members.push({
    n:mname.value,
    g:mgender.value,
    a:mage.value,
    r:mrel.value
  });
  alert("Member Added");
}

function generate(){
  let h="";
  members.forEach((m,i)=>{
    h+=`<tr>
      <td>${i+1}</td>
      <td>${m.n}</td>
      <td>${m.g}</td>
      <td>${m.a}</td>
      <td>${m.r}</td>
    </tr>`;
  });
  tbl.innerHTML=h;
  total.innerText=members.length;

  orc.innerText=rc.value;
  oholder.innerText=holder.value;
  ofh.innerText=fh.value;
  oaddr.innerText=addr.value;
  odist.innerText=dist.value;
  odealer.innerText=dealer.value;
}
</script>

</body>
</html>
