<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<title>Ration Card – 4 in 1</title>

<style>
@page{
  size: A4;
  margin: 8mm;
}

body{
  margin:0;
  font-family: Mangal, "Noto Serif Devanagari", Arial, sans-serif;
}

/* hide form in print */
@media print{
  .form, button{
    display:none !important;
  }
}

/* A4 container */
.sheet{
  width:210mm;
  height:297mm;
  display:grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr;
  gap:6mm;
}

/* each mini page */
.card{
  border:2px solid #000;
  padding:6mm;
  box-sizing:border-box;
  font-size:11px;
}

/* helpers */
.center{text-align:center;}
.right{text-align:right;}
.small{font-size:10px;}
.xsmall{font-size:9px;}

table{
  width:100%;
  border-collapse:collapse;
}
th,td{
  border:1px solid #000;
  padding:2px;
  font-size:10px;
  text-align:center;
}

.barcode{
  font-family: monospace;
  letter-spacing:2px;
  font-size:12px;
  margin-top:6px;
}
</style>
</head>

<body>

<!-- ================= FORM ================= -->
<div class="form" style="padding:10px;">
<h3>Ration Card Form</h3>
Ration Card No <input id="rc"><br><br>
Card Holder <input id="holder"><br><br>
Father / Husband <input id="fh"><br><br>
District <input id="dist"><br><br>
Address <input id="addr"><br><br>
Dealer <input id="dealer"><br><br>

<h4>Family Member</h4>
Name <input id="mname">
Gender <input id="mgender">
Age <input id="mage">
Relation <input id="mrel">
<button onclick="add()">Add</button>
<br><br>
<button onclick="generate()">Generate</button>
</div>

<!-- ================= A4 PAGE ================= -->
<div class="sheet">

<!-- PAGE 1 -->
<div class="card">
<table>
<tr>
<th>क्र०</th><th>नाम</th><th>लिंग</th><th>उम्र</th><th>संबंध</th>
</tr>
<tbody id="tbl"></tbody>
</table>
<p><b>कुल सदस्य :</b> <span id="total"></span></p>
<p class="small">Help Line No: 18003456598<br>NIC</p>
</div>

<!-- PAGE 2 (FRONT) -->
<div class="card center">
<img src="logo.png" style="width:70px;"><br>
<b>राशन कार्ड</b><br>
<span class="small">खाद्य, सार्वजनिक वितरण एवं उपभोक्ता मामले विभाग</span>
<p><b>RC No:</b> <span id="orc"></span></p>
<p><b>नाम:</b> <span id="oholder"></span></p>
<p><b>जिला:</b> <span id="odist"></span></p>
<div class="barcode">|| ||| || ||| | ||| ||</div>
</div>

<!-- PAGE 3 -->
<div class="card xsmall">
<p><b>1.</b> Card Holder: <span id="oholder2"></span></p>
<p><b>2.</b> पिता / पति: <span id="ofh"></span></p>
<p><b>3.</b> पता:<br><span id="oaddr"></span></p>
<p><b>4.</b> वितरक: <span id="odealer"></span></p>
<p class="right">अधिकारी हस्ताक्षर</p>
</div>

<!-- PAGE 4 -->
<div class="card xsmall">
<b>आवश्यक सूचनाएँ</b>
<p>1. यह राशन कार्ड निःशुल्क है।</p>
<p>2. कार्ड सुरक्षित रखें।</p>
<p>3. गलत उपयोग दंडनीय है।</p>
<p>4. हेल्पलाइन: 1967</p>
</div>

</div>

<button onclick="window.print()">Print / Save PDF</button>

<script>
let members=[];
function add(){
  members.push({
    n:mname.value,
    g:mgender.value,
    a:mage.value,
    r:mrel.value
  });
  mname.value=mgender.value=mage.value=mrel.value="";
}

function generate(){
  let h="";
  members.forEach((m,i)=>{
    h+=`<tr>
      <td>${i+1}</td>
      <td>${m.n}</td>
      <td>${m.g}</td>
      <td>${m.a}</td>
      <td>${m.r}</td>
    </tr>`;
  });
  tbl.innerHTML=h;
  total.innerText=members.length;

  orc.innerText=rc.value;
  oholder.innerText=holder.value;
  oholder2.innerText=holder.value;
  ofh.innerText=fh.value;
  oaddr.innerText=addr.value;
  odist.innerText=dist.value;
  odealer.innerText=dealer.value;
}
</script>

</body>
</html>
